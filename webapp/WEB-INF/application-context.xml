<?xml version="1.0" encoding="UTF-8"?>
<beans
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

	<bean id="configurer" class="org.riotfamily.common.beans.config.PlaceholderWithDefaultConfigurer">
		<property name="location" value="classpath:/application.properties" />
		<property name="contextOverride" value="true" />
	</bean>
	
	<!-- JDBC DataSource pooled by C3P0 -->
	<bean id="riotDataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource">
		<property name="driverClass"><value>${jdbc.driver_class}</value></property>
	    <property name="jdbcUrl"><value>${jdbc.url}</value></property>
	    <property name="user"><value>${jdbc.username}</value></property>
	    <property name="password"><value>${jdbc.password}</value></property>
	    <property name="maxPoolSize"><value>${jdbc.maxPoolSize=10}</value></property>
	</bean>
	
	<!-- Overwrites the riotHibernateProperties to set them via application.properties -->
	<bean id="riotHibernateProperties" class="org.springframework.beans.factory.config.PropertiesFactoryBean">
		<property name="properties" value="${hibernate.*}" />
	</bean>
	
	<!-- Overwrites the evolver to control automatic evolution via application.properties -->
	<bean id="evolver" class="org.riotfamily.revolt.Evolver">
		<property name="automatic" value="${riot.automaticSchemaEvolution=false}" />
	</bean>

	<!-- Overwrites the websiteCache to set the capacity via application.properties -->	
	<bean id="websiteCache" class="org.riotfamily.cachius.spring.CacheFactoryBean">
		<property name="capacity" value="${riot.websiteCache.capacity=10000}" />
    </bean>

</beans>	